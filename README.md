# 微波炉 UI 界面项目

一个基于 p5.js 的现代化微波炉用户界面，具有硬件 LED 模拟、呼吸动画效果和多种时间模式的交互式界面。

## 项目概述

这是一个现实主义风格的微波炉界面，模拟真实的硬件 LED 控制和用户交互体验。界面包含时间选择滑块、多种预设模式、启动动画和睡眠模式等完整功能。

## 核心功能

### 🎛️ 时间选择系统

- **线段区域**：提供 LED 分段的时间选择（按 LED 精度跳跃）
- **方块区域**：提供整数分钟的快速选择
- **拖拽交互**：支持鼠标/触摸拖拽调节时间
- **呼吸效果**：当前选中位置具有动态呼吸光效
- **分段显示**：线段区域时间按 LED 分段跳跃，从 0:00 开始递增

### 🔆 LED 硬件模拟

- **20 个 LED 硬件模拟**：15 个线段 LED + 5 个方块 LED
- **亮度控制**：最小亮度 38（15%）到最大亮度 255（100%）
- **LED 基础时间单位映射**：15 个线段 LED 基于固定时间增量分布
  - 默认模式 & 模式 1：每个 LED 覆盖 10 秒（0:00, 0:10, 0:20, 0:30...）
  - 模式 2：每个 LED 覆盖 15 秒（0:00, 0:15, 0:30, 0:45...）
  - 模式 3：每个 LED 覆盖 30 秒（0:00, 0:30, 1:00, 1:30...）
  - 模式 4：每个 LED 覆盖 60 秒（0:00, 1:00, 2:00, 3:00...）
- **方块 LED 映射**：5 个方块直接映射到 5 个 LED（LED 15-19）
- **稳定跟踪**：防止 LED 跳跃，确保平滑过渡

### ⏱️ 时间模式配置

**新的 LED 基础时间单位系统**：所有时间模式基于 LED 时间单位构建，线段区域 15 个 LED 各有固定时间增量，方块区域从最近整分钟开始递增。

#### 默认模式（0-7 分钟）

- **线段区域**：0:00 - 2:30（10 秒/LED × 15 个 LED）
- **方块区域**：[3:00, 4:00, 5:00, 6:00, 7:00]（+1 分钟递增）
- **用途**：日常快速加热

#### 模式 1（0-7 分钟）

- **线段区域**：0:00 - 2:30（10 秒/LED × 15 个 LED）
- **方块区域**：[3:00, 4:00, 5:00, 6:00, 7:00]（+1 分钟递增）
- **用途**：短时间快速加热
- **快捷键**：Q/q

#### 模式 2（0-12 分钟）

- **线段区域**：0:00 - 3:45（15 秒/LED × 15 个 LED）
- **方块区域**：[4:00, 6:00, 8:00, 10:00, 12:00]（+2 分钟递增）
- **用途**：中等时间加热
- **快捷键**：W/w

#### 模式 3（0-20 分钟）

- **线段区域**：0:00 - 7:30（30 秒/LED × 15 个 LED）
- **方块区域**：[8:00, 11:00, 14:00, 17:00, 20:00]（+3 分钟递增）
- **用途**：长时间烹饪
- **快捷键**：E/e

#### 模式 4（0-35 分钟）

- **线段区域**：0:00 - 15:00（1 分钟/LED × 15 个 LED）
- **方块区域**：[15:00, 20:00, 25:00, 30:00, 35:00]（+5 分钟递增）
- **用途**：超长时间烹饪/解冻
- **快捷键**：R/r

### 🎨 视觉效果

#### 呼吸动画效果

- **主光晕呼吸**：光晕强度在 70%-130%之间变化
- **额外呼吸光晕**：尺寸和线宽的扩张/收缩效果
- **同步节奏**：使用相同的时间计算（millis() \* 0.002）
- **应用对象**：当前滑块位置的最亮段
- **效果组合**：强度脉冲 + 尺寸变化，营造生物呼吸感

#### 启动动画序列

1. **全亮阶段**（0.5 秒）：所有段点亮，显示 30:00
2. **推进到 6 分钟**（2 秒）：从左侧推进到 60%位置，带呼吸效果
3. **钟形曲线运动**（3.5 秒）：左右摆动的优雅运动轨迹
4. **回退到零点**（2 秒）：推回到起始位置
5. **闪烁结束**（可选）：2 次闪烁后进入正常模式

**注意**：启动动画使用独立的连续时间显示系统，完全不受交互模式的 LED 分段时间影响

#### 底部光效

- **12 层渐变光晕**：橙色系暖光效果
- **波浪动画**：多层波浪叠加的动态效果
- **脉冲同步**：与计时器状态同步的强度变化
- **启动爆发**：计时器开始时的光效爆发

### 🎮 交互控制

#### 速度控制

- **0.25x 速度**：精确调节模式
- **1x 速度**：标准调节模式
- **2.5x 速度**：快速调节模式
- **快捷键**：1, 2, 3

#### 操作按钮

- **开始/停止按钮**：Space 键或点击，智能切换文字
- **取消按钮**：Esc 键或点击，重置到默认状态
- **红色取消按钮**：视觉区分，低透明度设计

#### 键盘快捷键

```
时间模式：Q(模式1) W(模式2) E(模式3) R(模式4)
调节速度：1(慢) 2(中) 3(快)
操作控制：Space(开始/停止) Esc(取消/重置)
其他功能：S(保存截图)
```

### 💤 睡眠模式

- **触发时间**：10 秒无交互后自动进入
- **视觉效果**：所有元素降低到 15%透明度
- **LED 状态**：所有 LED 降到最小亮度（38）
- **唤醒方式**：任意交互（点击、拖拽、按键）
- **唤醒重置**：滑块归零，模式重置

### 🔧 技术配置

#### 画布设置

- **宽高比**：14:9（微波炉标准比例）
- **基准宽度**：1400px
- **响应式设计**：自动适配窗口尺寸
- **触摸优化**：支持移动设备交互

#### 颜色配置

```javascript
背景色：#181716（深灰色）
主色调：255（白色）
暗色透明度：0.15
光晕颜色：橙色系渐变（12种变化）
```

#### 段落配置

```javascript
线段间距：8px
线段长度：20px（视觉高度）
线段宽度：600px（面板宽度）
方块区域比例：0.2
方块数量：10个（组合成5个）
间隙比例：0.25
```

#### LED 映射配置

```javascript
线段LED数量：15个（LED 0-14）
方块LED数量：5个（LED 15-19）
时间映射算法：基于LED时间单位的固定增量分布
时间配置：getTimeConfiguration() - 返回各模式的时间单位配置
映射函数：mapLineSegmentToLEDByTime() - LED时间单位映射
传统映射：mapSegmentToLED() - 用于方块段的固定映射
启动动画：drawStartupTimeDisplay() - 独立的连续时间显示系统
```

## 使用说明

### 基本操作

1. **设置时间**：拖拽滑块或点击方块选择时间
2. **选择模式**：点击 1-4 按钮选择不同时间范围
3. **调节速度**：点击速度按钮改变拖拽灵敏度
4. **开始计时**：点击"开始"按钮或按 Space 键
5. **取消重置**：点击"取消"按钮或按 Esc 键

### 高级功能

- **精确调节**：使用 0.25x 速度进行精确时间设置
- **快速选择**：直接点击方块区域选择整数分钟
- **视觉反馈**：观察呼吸效果确认当前选中位置
- **键盘操作**：使用快捷键提高操作效率

## 文件结构

```
Microwave_UI/
├── Microwave_UI_Realistic.html    # 主界面文件
├── Microwave_UI.html              # 基础版本
└── README.md                      # 项目说明文档
```

## 技术特性

- **框架**：p5.js 1.7.0
- **兼容性**：现代浏览器、移动设备
- **性能优化**：智能 LED 映射、平滑动画
- **用户体验**：触觉反馈、视觉引导、直观操作

## 技术详解

### LED 基础时间单位系统

**核心概念**：

- **线段区域**：15 个 LED，每个 LED 代表固定的时间增量
- **方块区域**：5 个方块，从线段结束时间的最近整分钟开始，按固定增量递增

**时间计算逻辑**：

```javascript
// 线段区域计算
segmentedTimeInSeconds = ledIndex × config.lineUnit

// 方块区域计算
blockTime = config.blockStart + (blockIndex × config.blockIncrement)
```

**各模式时间配置表**：
| 模式 | 线段单位 | 线段总时长 | 方块起始 | 方块增量 | 最大时间 |
|------|----------|------------|----------|----------|----------|
| 默认/1 | 10 秒 | 2:30 | 3:00 | +1 分钟 | 7:00 |
| 模式 2 | 15 秒 | 3:45 | 4:00 | +2 分钟 | 12:00 |
| 模式 3 | 30 秒 | 7:30 | 8:00 | +3 分钟 | 20:00 |
| 模式 4 | 60 秒 | 15:00 | 15:00 | +5 分钟 | 35:00 |

## 设计理念

这个项目旨在创造一个既美观又实用的微波炉界面，通过精心设计的动画效果和智能的交互逻辑，提供类似真实硬件的操作体验。呼吸效果模拟生物节律，营造温暖的人机交互感受，而基于 LED 时间单位的分段系统则确保用户能够快速准确地设置所需时间。

## 开发者

界面设计注重细节和用户体验，每个动画效果都经过精心调试，确保在不同设备上都能提供流畅一致的体验。LED 硬件模拟系统准确反映了真实微波炉的工作状态，基于时间单位的分段系统为用户提供直观的视觉反馈。
